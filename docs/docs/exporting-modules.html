<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta charset="utf-8"><meta name="keywords" content="javascript, modules, module, convert, commonjs, AMD, UMD, UMDjs, format, converter, conversion, requirejs, require, define, browserify, dependency, dependencies, bundle, package"><meta name="description" content="Javascript Universal Module &amp; Resource Converter: convert modules from commonjs to AMD, AMD modules to commonjs, requirejs to nodejs to UMD, to standalone optimized .js"><title>Exporting Modules - uRequire: JavaScript Universal Module &amp; Resource Converter: convert modules from AMD to nodejs, commonjs and back, to UMD, to plain script .js</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:400,700"><link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon"><!--script--><!--  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){--><!--  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),--><!--  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)--><!--  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');--><!----><!--  ga('create', 'UA-41565621-1', 'urequire.org');--><!--  ga('send', 'pageview');--></head><body class="page-docs page-secondary"><a href="https://github.com/anodynos/urequire"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 1;" src="img/github_forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a href="/" class="brand"><img src="../img/urequire-logo.png" alt="convert, javascript, modules, commonjs, requirejs, nodejs, AMD, UMD, dependencies, resources, conversion, workflow, in-memory, asset, pipeline" class="logo"></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/docs/features.html"><i class="icon-arrow-right"></i><span>uRequire Features</span></a></li><li><a href="/docs/quick-introduction.html"><i class="icon-document-alt-stroke"></i><span>Documentation</span></a></li><li><a href="/docs/masterdefaultsconfig.coffee.html"><i class="icon-cog"></i><span>uRequire Config</span></a></li><li><a href="/docs/resourceconverters.coffee.html"><i class="icon-power-cord"></i><span>Resource Converters</span></a></li></ul></div></div></div></div><div class="content"><div class="container exporting-modules"><div class="row-fluid"><div class="span9 page"><div class="hero-unit docs"><h1>Exporting Modules</h1><h2><a class="anchor" href="#declarative-web-global-rootexports-and-noconflict" id="declarative-web-global-rootexports-and-noconflict"></a>Declarative web global <code>rootExports</code> and <code>noConflict()</code></h2>
<p>uRequire allows you to easily <em>export</em> root (global) variables, along with <code>noConflict()</code> on the Web side.</p>
<h3><a class="anchor" href="#simplified-rootexports" id="simplified-rootexports"></a>Simplified <code>rootExports</code></h3>
<p>uRequire can generate the <a href="https://github.com/umdjs/umd/blob/master/amdWebGlobal.js"><code>rootExports</code> boilerplate</a>. You can declaratively export one (or more) global variables from your UMD/AMD module on the web side.</p>
<p>You simply include an object literal <strong>on the top</strong> of your (source) module file like this:</p>
<pre><code class="lang-js">({urequire: { rootExports: <span class="string">'uBerscore'</span> } });</code></pre>
<p>Or use an array :</p>
<pre><code class="lang-js">({urequire: { rootExports: [<span class="string">'uBerscore'</span>, <span class="string">'_B'</span>]}});</code></pre>
<p>in case you want many global vars.</p>
<p>These globals be created as keys on &#39;root&#39; (eg <code>window</code> on browsers, <code>global</code> on nodejs), with the module as the value (possibly overwriting existing keys).</p>
<p>Alternativelly, if you dont want to <em>pollute</em> your modules with <code>export</code>ing info, you can handle it in the <a href="masterdefaultsconfig.coffee">config</a>, in the <a href="masterdefaultsconfig.coffee#bundle.dependencies.exports.root"><code>bundle.dependencies.exports.root</code></a> key.</p>
<h3><a class="anchor" href="#generated-noconflict-functionality" id="generated-noconflict-functionality"></a>Generated <code>noConflict</code> functionality</h3>
<p>You can inject code to your module, that provides the familiar <a href="[jquery&#39;s](api.jquery.com/jquery.noconflict/">jQuery inspired</a> <code>noConflict()</code> function to your module. With <code>noConflict</code> enabled, your module saves the existing root keys before exporting onto them. Then it can return them to their original value, if you call <code>noConflict()</code> which in turn returns the module.</p>
<p>Again, you do this declaratively:</p>
<pre><code class="lang-js">({
  urequire: {
    rootExports: [<span class="string">'_B'</span>, <span class="string">'uBerscore'</span>],
    noConflict: <span class="literal">true</span>
  }
});</code></pre>
<p>At some point in your code, you can call <code>var myB = _B.noConflict();</code> which will revert <em>all</em> rootExports variables to their original values, returning the module which you can store elsewhere (eg <code>myB</code>).</p>
<p>In future uRequire versions you&#39;ll be able to a) pass an &#39;exclude&#39; array param &amp; b) do a <code>rootExports()</code> to re-export root vars.</p>
<h2><a class="anchor" href="#dependencies.exports.bundle-a-dependencies-injection-mechanism:" id="dependencies.exports.bundle-a-dependencies-injection-mechanism:"></a><strong>dependencies.exports.bundle</strong>, a dependencies-injection mechanism:</h2>
<p>With <a href="masterdefaultsconfig.coffee#bundle.dependencies.exports.bundle"><code>dependencies.exports.bundle</code> config option</a> you can declare bundle-wide <em>global-looking</em> dependencies, that work on Web &amp; nodejs. These are implicitly available in all your modules, without repeating the <code>require</code>s.</p>
<p>For example, if you use <code>[&#39;lodash&#39;, &#39;backbone&#39;, &#39;myLib&#39;, ...]</code> in all your bundle modules, just use</p>
<pre><code>dependencies:
  exports: bundle: [<span class="string">'lodash'</span>, <span class="string">'backbone'</span>, <span class="string">'myLib'</span>]</code></pre>
<p>and its saving you from having to require &#39;em in <strong>every module of your bundle</strong>.</p>
<p>If you want to have precise control over the variables that hold you exported modules, use this format:</p>
<pre><code>dependencies: exports: bundle: {
    <span class="string">'lodash'</span>: <span class="string">'_'</span>,
    <span class="string">'backbone'</span>: <span class="string">'Backbone'</span>,
    <span class="string">'myLib'</span>: [<span class="string">'myLib'</span>, <span class="string">'myLibOtherName'</span>]
   }</code></pre>
<p>Most times, uRequire can discover the variable names, if its &#39;define&#39;d even once.</p>
</div></div><div class="span3"><div class="well sidebar-nav"><ul class="nav nav-list"><li class="nav-header"><i class="icon-document-alt-stroke"></i><span>Introduction</span></li><li><a href="/docs/quick-introduction.html">Quick Introduction</a></li><li><a href="/docs/ultimate-aims.html">Ultimate Aims</a></li><li><a href="/docs/features.html">Features</a></li><li><a href="/docs/installing-urequire.html">Installing uRequire</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Using &amp; Configuration</span></li><li><a href="/docs/using-urequire.html">Using uRequire</a></li><li><a href="/docs/masterdefaultsconfig.coffee.html">MasterDefaultsConfig.coffee</a></li><li><a href="/docs/resourceconverters.coffee.html">ResourceConverters.coffee</a></li><li><a href="/docs/types-and-derive.html">Types and Derive</a></li><li><a href="/docs/tags-legend.html">Tags Legend</a></li><li><a href="/docs/cli-options.html">CLI Options</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Module Authoring</span></li><li><a href="/docs/universal-module-format.html">Universal Module Format</a></li><li><a href="/docs/flexible-path-conventions.html">Flexible Path Conventions</a></li><li><a href="/docs/synchronous-require.html">Synchronous Require</a></li><li><a href="/docs/asynchronous-require.html">Asynchronous Require</a></li><li><a href="/docs/exporting-modules.html">Exporting Modules</a></li><li><a href="/docs/mappings.html">Mappings</a></li><li><a href="/docs/requirejs-loader-plugins.html">RequireJS Loader Plugins</a></li><li><a href="/docs/authoring-notes-and-warnings.html">Authoring Notes and Warnings</a></li><li><a href="/docs/deployment.html">Deployment</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Conversion Templates</span></li><li><a href="/docs/umd-template.html">UMD Template</a></li><li><a href="/docs/amd-template.html">AMD Template</a></li><li><a href="/docs/nodejs-template.html">nodejs Template</a></li><li><a href="/docs/combined-template.html">combined Template</a></li><li><a href="/docs/your-custom-template.html">your-custom Template</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Misc</span></li><li><a href="/docs/frequently-asked-questions.html">Frequently Asked Questions</a></li><li><a href="/docs/history.html">History</a></li><li><a href="/docs/future-directions.html">Future Directions</a></li><li><a href="/docs/acknowledgements.html">Acknowledgements</a></li><li><a href="/docs/contributing.html">Contributing</a></li></ul><div class="advertisements">Powered by <a href="http://github.com/anodynos/uberscore">uBerscore</a>, the unorthodox _ experiment. uRequire's wicked <a href="/types-and-derive#deriving-behaviors">config derivation</a> is using _B.Blender.</div><div class="advertisements">Using <a href="http://gruntjs.com">gruntjs</a> ? Check <a href="https://github.com/aearly/grunt-urequire">grunt-urequire</a>, where you can use <a href="/masterdefaultsconfig.coffee#config-usage">uRequire config</a> as a grunt task.</div><div class="advertisements">Related articles: <a href="http://addyosmani.com/writing-modular-js/">Writing Modular JavaScript With AMD, CommonJS & ES Harmony</a> and <a href="http://addyosmani.com/largescalejavascript/">Patterns For Large-Scale JavaScript Application Architecture</a> by <a href="http://twitter.com/addyosmani">Addy Osmani</a>.</div><div class="advertisements">Developed with a kindly sponsored free version of <a href="http://www.jetbrains.com/idea/"><img src="/img/logo_intellij_idea.png"/></a></div></div></div></div></div></div><footer class="urequire-footer"><div class="inner"><div class="container"><ul class="pull-right"><li><a href="/contributing">Contributing</a></li><li class="social"><a href="https://github.com/anodynos/urequire" alt="uRequire on GitHub"><span class="icon-github"></span></a></li><li class="social"><a href="https://twitter.com/urequire/" alt="uRequire on Twitter"><span class="icon-twitter"></span></a></li></ul><ul class="pull-left"><li>uRequire is an open source project, MIT license. (C)<a href="http://github.com/anodynos" alt="anodynos"></a>Agelos Pikoulas 2013</li></ul></div></div></footer></body></html>