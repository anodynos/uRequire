<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta charset="utf-8"><meta name="keywords" content="javascript, modules, module, convert, commonjs, AMD, UMD, UMDjs, format, converter, conversion, requirejs, require, define, browserify, dependency, dependencies, bundle, package"><meta name="description" content="Javascript Universal Module &amp; Resource Converter: convert modules from commonjs to AMD, AMD modules to commonjs, requirejs to nodejs to UMD, to standalone optimized .js"><title>Installing uRequire - uRequire: JavaScript Universal Module &amp; Resource Converter: convert modules from AMD to nodejs, commonjs and back, to UMD, to plain script .js</title><link rel="stylesheet" href="/uRequire/css/main.css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:400,700"><link rel="shortcut icon" href="/uRequire/img/favicon.ico" type="image/x-icon"><!--script--><!--  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){--><!--  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),--><!--  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)--><!--  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');--><!----><!--  ga('create', 'UA-41565621-1', 'urequire.org');--><!--  ga('send', 'pageview');--></head><body class="page-docs page-secondary"><a href="https://github.com/anodynos/urequire"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 1;" src="/uRequire/img/github_forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a href="/" class="brand"><img src="/uRequire/img/urequire-logo.png" alt="convert, javascript, modules, commonjs, requirejs, nodejs, AMD, UMD, dependencies, resources, conversion, workflow, in-memory, asset, pipeline" class="logo"></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/uRequire/docs/features.html"><i class="icon-arrow-right"></i><span>uRequire Features</span></a></li><li><a href="/uRequire/docs/quick-introduction.html"><i class="icon-document-alt-stroke"></i><span>Documentation</span></a></li><li><a href="/uRequire/docs/masterdefaultsconfig.coffee.html"><i class="icon-cog"></i><span>uRequire Config</span></a></li><li><a href="/uRequire/docs/resourceconverters.coffee.html"><i class="icon-power-cord"></i><span>Resource Converters</span></a></li></ul></div></div></div></div><div class="content"><div class="container installing-urequire"><div class="row-fluid"><div class="span9 page"><div class="hero-unit docs"><h1>Installing uRequire</h1><h2><a class="anchor" href="#installation" id="installation"></a>Installation</h2>
<p>uRequire has a separate [command line invoker]( that is installed globally:</p>
<pre><code>    `<span class="javascript">npm install urequire-cli -g</span>`</code></pre>
<p>You &#39;ll also need a local dependency of <code>&#39;urequire&#39;</code> package in your project (i.e <code>npm install urequire --save-dev</code>).</p>
<p>a) <code>urequire-cli</code> just loads the local <code>urequire</code> package.</p>
<p>b) For your modules-to-become-UMD with the <code>UMD</code> template (when those are running on node, not used in <code>UMDplain</code> template)</p>
<p>So do a <code>npm install urequire</code> or add to <code>package.json</code>.</p>
<p>This actually gives your UMD modules a proxy to node&#39;s native require, allowing proper <a href="flexible-path-conventions">paths resolution</a>, the <a href="asynchronous-require">asynchronous</a> version of require, <a href="requirejs-loader-plugins">requirejs loader plugins</a> execution, <a href="mappings">mappings</a> and better debugging information when things go wrong.</p>
<h2><a class="anchor" href="#basic-usage" id="basic-usage"></a>Basic Usage</h2>
<p>Assuming you have your AMD/node modules in a structure like this</p>
<pre><code>    src/
        Application.js
        views/
              PersonView.js
        models/
              PersonModel.js
        helpers/
              helper.js</code></pre>
<p>The src/ directory is said to be your &#39;bundle root&#39;, in urequire terms. It&#39;s what you would set <code>baseUrl</code> to in requirejs, if your modules were in pure AMD format. All absolute dependencies (those not starting with <code>./</code>, <code>../</code> or <code>/</code>) would be relative to this bundle root, eg &#39;Application&#39; or &#39;views/PersonView&#39;. Every UMD file is aware of its location in the bundle and uses it in various ways, such as resolving paths, looking for &#39;requirejs.config.json&#39;, resolving baseUrl/paths &amp; webRootMap etc.</p>
<p>Now say your <code>views/PersonView.js</code> is</p>
<pre><code class="lang-js">define([<span class="string">'models/PersonModel'</span>], <span class="reserved">function</span>(PersonModel) {
  <span class="reserved">var</span> helper = require(<span class="string">'helpers/helper.js'</span>);
  <span class="regexp">//</span><span class="keyword">do</span> stuff <span class="reserved">with</span> PersonModel &amp; helper
  <span class="keyword">return</span> {the:<span class="string">'PersonViewModule'</span>}
});</code></pre>
<p>and similarly for the others. Note that even this tiny valid-looking module is authored in the &#39;relaxed&#39; <a href="universal-module-format">Universal Module Format</a>, <a href="frequently-asked-questions#what-does-urequire-relaxed-notation-solve"><em>that would NOT as plain AMD</em></a>.</p>
<p>Remember that other modules in the same bundle can be authored as plain nodejs or AMD modules. For example  &#39;models/PersonModel.js&#39; can be :</p>
<pre><code class="lang-js"><span class="reserved">var</span> helper = require(<span class="string">'helpers/helper.js'</span>);
<span class="reserved">var</span> data = require(<span class="string">'datastore/data.js'</span>);
<span class="regexp">//</span> <span class="keyword">do</span> stuff <span class="reserved">with</span> data &amp; helper
module.exports = {the:<span class="string">'PersonModelModule'</span>}</code></pre>
<p>To convert your modules to uRequire UMD you &#39;ll execute:</p>
<pre><code>urequire UMD src -o build</code></pre>
<p>This will place the translated UMD files into the <code>build</code> directory.
The generated files will look similar to this:</p>
<pre><code class="lang-js">  <span class="regexp">//</span> Generated <span class="keyword">by</span> urequire v0<span class="number">.0</span><span class="number">.9</span>
  (<span class="reserved">function</span> (root, factory) {
      <span class="keyword">if</span> (<span class="keyword">typeof</span> exports === <span class="string">'object'</span>) {
          <span class="reserved">var</span> nodeRequire = require(<span class="string">'urequire'</span>).makeNodeRequire(<span class="string">'views/PersonView.js'</span>, __dirname, <span class="string">'..'</span>);
          module.exports = factory(nodeRequire, nodeRequire(<span class="string">'../models/PersonModel'</span>));
      } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd) {
          define([<span class="string">'require'</span>, <span class="string">'../models/PersonModel'</span>, <span class="string">'../helpers/helper.js'</span>], factory);
      }
  })(<span class="keyword">this</span>, <span class="reserved">function</span> (require, PersonModel) {
      <span class="reserved">var</span> helper = require(<span class="string">'../helpers/helper.js'</span>);
      <span class="keyword">return</span> {the:<span class="string">'PersonViewModule'</span>};
  });</code></pre>
<p>Your bundle files are ready to be deployed to Web/RequireJS and to node (by having &#39;urequire&#39; locally installed via npm).</p>
<p>Use</p>
<pre><code>urequire UMDplain src -o build</code></pre>
<p>if you dont want a simpler UMD template that doesn&#39;t have &#39;urequire&#39; dependency on your project for nodejs execution.</p>
<p>Check <a href="using-urequire">Using uRequire</a> for usage details.</p>
</div></div><div class="span3"><div class="well sidebar-nav"><ul class="nav nav-list"><li class="nav-header"><i class="icon-document-alt-stroke"></i><span>Introduction</span></li><li><a href="/urequire/docs/quick-introduction.html">Quick Introduction</a></li><li><a href="/urequire/docs/ultimate-aims.html">Ultimate Aims</a></li><li><a href="/urequire/docs/features.html">Features</a></li><li><a href="/urequire/docs/installing-urequire.html">Installing uRequire</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Using &amp; Configuration</span></li><li><a href="/urequire/docs/using-urequire.html">Using uRequire</a></li><li><a href="/urequire/docs/masterdefaultsconfig.coffee.html">MasterDefaultsConfig.coffee</a></li><li><a href="/urequire/docs/resourceconverters.coffee.html">ResourceConverters.coffee</a></li><li><a href="/urequire/docs/types-and-derive.html">Types and Derive</a></li><li><a href="/urequire/docs/tags-legend.html">Tags Legend</a></li><li><a href="/urequire/docs/cli-options.html">CLI Options</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Module Authoring</span></li><li><a href="/urequire/docs/universal-module-format.html">Universal Module Format</a></li><li><a href="/urequire/docs/flexible-path-conventions.html">Flexible Path Conventions</a></li><li><a href="/urequire/docs/synchronous-require.html">Synchronous Require</a></li><li><a href="/urequire/docs/asynchronous-require.html">Asynchronous Require</a></li><li><a href="/urequire/docs/exporting-modules.html">Exporting Modules</a></li><li><a href="/urequire/docs/mappings.html">Mappings</a></li><li><a href="/urequire/docs/requirejs-loader-plugins.html">RequireJS Loader Plugins</a></li><li><a href="/urequire/docs/authoring-notes-and-warnings.html">Authoring Notes and Warnings</a></li><li><a href="/urequire/docs/deployment.html">Deployment</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Conversion Templates</span></li><li><a href="/urequire/docs/umd-template.html">UMD Template</a></li><li><a href="/urequire/docs/amd-template.html">AMD Template</a></li><li><a href="/urequire/docs/nodejs-template.html">nodejs Template</a></li><li><a href="/urequire/docs/combined-template.html">combined Template</a></li><li><a href="/urequire/docs/your-custom-template.html">your-custom Template</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Misc</span></li><li><a href="/urequire/docs/frequently-asked-questions.html">Frequently Asked Questions</a></li><li><a href="/urequire/docs/history.html">History</a></li><li><a href="/urequire/docs/future-directions.html">Future Directions</a></li><li><a href="/urequire/docs/acknowledgements.html">Acknowledgements</a></li><li><a href="/urequire/docs/contributing.html">Contributing</a></li></ul><div class="advertisements">Powered by <a href="http://github.com/anodynos/uberscore">uBerscore</a>, the unorthodox _ experiment. uRequire's wicked <a href="/types-and-derive#deriving-behaviors">config derivation</a> is using _B.Blender.</div><div class="advertisements">Using <a href="http://gruntjs.com">gruntjs</a> ? Check <a href="https://github.com/aearly/grunt-urequire">grunt-urequire</a>, where you can use <a href="/masterdefaultsconfig.coffee#config-usage">uRequire config</a> as a grunt task.</div><div class="advertisements">Related articles: <a href="http://addyosmani.com/writing-modular-js/">Writing Modular JavaScript With AMD, CommonJS & ES Harmony</a> and <a href="http://addyosmani.com/largescalejavascript/">Patterns For Large-Scale JavaScript Application Architecture</a> by <a href="http://twitter.com/addyosmani">Addy Osmani</a>.</div><div class="advertisements">Developed with a kindly sponsored free version of <a href="http://www.jetbrains.com/idea/"><img src="/uRequire/img/logo_intellij_idea.png"/></a></div></div></div></div></div></div><footer class="urequire-footer"><div class="inner"><div class="container"><ul class="pull-right"><li><a href="/contributing">Contributing</a></li><li class="social"><a href="https://github.com/anodynos/urequire" alt="uRequire on GitHub"><span class="icon-github"></span></a></li><li class="social"><a href="https://twitter.com/urequire/" alt="uRequire on Twitter"><span class="icon-twitter"></span></a></li></ul><ul class="pull-left"><li>uRequire is an open source project, MIT license. (C)<a href="http://github.com/anodynos" alt="anodynos"></a>Agelos Pikoulas 2013</li></ul></div></div></footer></body></html>